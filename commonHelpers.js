import{i as g,S as $,a as E}from"./assets/vendor-5401a4b0.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=n(t);fetch(t.href,o)}})();const u=document.querySelector(".gallery"),B=document.getElementById("loader"),C=document.getElementById("search-form"),m=document.getElementById("load-more"),q=document.getElementById("loading-indicator"),S="42175181-9f2e4ea0c75ffabf50c3ef9f9";let l=1,y="",P=0,x=0;function h(e){g.success({title:"Success",message:e,position:"topRight"})}function i(e){g.error({title:"Error",message:e,position:"topRight"})}function s(e){m.style.display=e?"block":"none"}function d(e){B.style.display=e?"block":"none",q.style.display=e?"block":"none"}async function p(e,r=1){const n=`https://pixabay.com/api/?key=${S}&q=${encodeURIComponent(e)}&image_type=photo&orientation=horizontal&safesearch=true&page=${r}&per_page=15`;try{const a=await E.get(n);return x=a.data.totalHits,a.data.hits}catch(a){throw i("Failed to fetch images."),a}}async function H(){const e=u.querySelector(".image-card").getBoundingClientRect().height;window.scrollBy({top:2*e,left:0,behavior:"smooth"})}C.addEventListener("submit",async function(e){e.preventDefault(),s(!1);const r=document.getElementById("query").value.trim();if(!r){g.warning({title:"Warning",message:"Please enter a search query."});return}try{d(!0),y=r,l=1;const n=await p(r,l);n.length>0?(M(n),h(`Was found: ${n.length} images`),b(),n.length<15?(i("We are sorry, but you have reached the end of search results."),s(!1)):s(!0)):(u.innerHTML="",i("Sorry, there are no images matching your search query. Please try again!"),s(!1))}finally{d(!1)}});m.addEventListener("click",async function(){try{d(!0),l++;const e=await p(y,l);e.length>0?(L(e),h(`Loaded additional ${e.length} images`),b(),e.length<15&&(i("We are sorry, but you have reached the end of search results."),s(!1)),H()):(i("No more images to load"),s(!1))}catch{i("Failed to fetch additional images.")}finally{d(!1)}});function M(e){u.innerHTML="",L(e)}function L(e){const r=document.createDocumentFragment();e.forEach(n=>{const{largeImageURL:a,webformatURL:t,tags:o,likes:c,views:v,comments:w,downloads:I}=n,f=document.createElement("div");f.classList.add("image-card"),f.innerHTML=`
            <a href="${a}" data-lightbox="image-set" data-title="${o}">
                <img src="${t}" alt="${o}">
                <div class="info">Likes: ${c}, Views: ${v}, Comments: ${w}, Downloads: ${I}</div>
            </a>
        `,r.appendChild(f)}),u.appendChild(r),P+=e.length}function b(){new $(".gallery a").refresh()}
//# sourceMappingURL=commonHelpers.js.map
